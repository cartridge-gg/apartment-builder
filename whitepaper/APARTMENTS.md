# Apartments

Apartments are building blocks for Apartment Builder. Once you have minted a
new apartment, you can change its layout according to your needs. Below is a
description of the contracts and API that allow users to access the various
appartments and their layout.

### Appartments

An apartment has the following properties:
- a `tokenID` is a number that is generated by the contract. It allows to
  uniquely identify an apartment
- a `shape` defines several properties that are useful to create the layout,
  including the `length`, `depth` and `number of floors`
  
> To help with exchanging data between Dapps, Apartment Builder Metadata
> is based on the
> [ERC-721 Metadata Standard](https://docs.opensea.io/docs/metadata-standards).

The template of the data associated with a 
```json
{
  "name": "Appartment #${tokenID}",
  "description": "Apartment Builder ${shape} #${tokenID}", 
  "external_url": "https://apartment-builder.preview.cartridge.gg/${tokenID}", 
  "image": "https://apartmentbuilder.carnage.sh/${shape}.png", 
  "attributes": [
    {"chain": "${chainId}" }
    {"tokenID": ${tokenID} },
    {"shape": "${shape}" }
  ] 
}
```

### Apartment NFTs

Anyone can mint an appartment and the owner can transfer it. The NFT is
an ERC721 NFT with an additional property that describe its layout and is
a Merkle root of all the objects that are in the appartment. The list of
noticeable methods are the following:

- `mint` to mint an appartment, you will need to pass the `${shape}` of
  the apartment. The associated transaction will generate an event with the `tokenID`
- `tokenID` provides the owner of a given tokenID
- `layout` provides the merkle root of a layout
- `updateLayout` allows to update the merkle root of the appartment layout.

### Appartment Layout

The appartment layout is a list of object positionned on the floors:
 

### Apartment APIs

Below is a list of API that can be used by the Apartment Builder

| route                       | verb | description                                        |
| --------------------------- | ---- | -------------------------------------------------- |
| /apartments                 | POST | allows to create a new appartment. The request has |
|                             |      | to be signed with the account signer to succeed    |
|                             |      | and must match the contract properties.            |
| /apartments/:tokenID        | GET  | returns a description of the apartment, including  |
|                             |      | the layout.                                        |
| /apartments/:tokenID/layout | PUT  | allows to update the layout of an appartment.      |
|                             |      | The request has to be signed with the account      |
|                             |      | signer to succeed.                                 |

### Questions:

In order to work correctly we would need the following:
- We would need picture for apartment shapes
- We would need a list of shapes with length and depth
